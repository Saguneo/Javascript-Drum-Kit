<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Drum</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="data:," />
  </head>
  <body>
    <main>
      <div class="key-container">
        <div data-key="KeyA" class="keys">
          <kbd>A</kbd>
          <p class="sound">clap</p>
        </div>
        <div data-key="KeyS" class="keys">
          <kbd>S</kbd>
          <p class="sound">hihat</p>
        </div>
        <div data-key="KeyD" class="keys">
          <kbd>D</kbd>
          <p class="sound">kick</p>
        </div>
        <div data-key="KeyF" class="keys">
          <kbd>F</kbd>
          <p class="sound">openhat</p>
        </div>
        <div data-key="KeyG" class="keys">
          <kbd>G</kbd>
          <p class="sound">boom</p>
        </div>
        <div data-key="KeyH" class="keys">
          <kbd>H</kbd>
          <p class="sound">ride</p>
        </div>
        <div data-key="KeyJ" class="keys">
          <kbd>J</kbd>
          <p class="sound">snare</p>
        </div>
        <div data-key="KeyK" class="keys">
          <kbd>K</kbd>
          <p class="sound">tom</p>
        </div>
        <div data-key="KeyL" class="keys">
          <kbd>L</kbd>
          <p class="sound">tink</p>
        </div>
      </div>

      <audio data-key="KeyA" src="./sounds/clap.wav"></audio>
      <audio data-key="KeyS" src="./sounds/hihat.wav"></audio>
      <audio data-key="KeyD" src="./sounds/kick.wav"></audio>
      <audio data-key="KeyF" src="./sounds/openhat.wav"></audio>
      <audio data-key="KeyG" src="./sounds/boom.wav"></audio>
      <audio data-key="KeyH" src="./sounds/ride.wav"></audio>
      <audio data-key="KeyJ" src="./sounds/snare.wav"></audio>
      <audio data-key="KeyK" src="./sounds/tom.wav"></audio>
      <audio data-key="KeyL" src="./sounds/tink.wav"></audio>
    </main>

    <script>
      window.addEventListener("keydown", function (e) {
        const audio = document.querySelector(`audio[data-key="${e.code}"]`);
        const keybox = document.querySelector(`div[data-key="${e.code}"]`);

        if (audio) {
          keybox.classList.add("active");

          audio.play();

          audio.currentTime = 0;

          audio.addEventListener("ended", function () {
            keybox.classList.remove("active");
          });
        }

        setTimeout(function () {
          keybox.classList.remove("active");
        }, 100);
      });
    </script>
  </body>
</html>
